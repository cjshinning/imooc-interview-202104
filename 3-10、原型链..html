<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>原型链</title>
</head>

<body>
  <script>
    // 一、创建对象有几种方法方法？
    // 1、字面量
    var o1 = {
      name: 'o1'
    };
    var o2 = new Object({
      name: 'o2'
    });

    // 2、构造函数
    var M = function (name) {
      this.name = name;
    }
    var o3 = new M('o3');

    // 3、Object.create
    var p = {
      name: 'o4'
    };
    var o4 = Object.create(p);

    M.prototype.say = function () {
      console.log('say hi');
    }

    var o5 = new M({
      name: 'o5'
    });

    // // 原型链类
    // // 原型，构造函数，实例，原型链
    // // 构造函数（每个函数）都有显示原型prototype
    // console.log(M.prototype); //{constructor: function(){name: 'M'}}
    // // 原型对象又有一个指针constructor指向它的构造函数
    // console.log(M.prototype.constructor === M); //true
    // // 实例通过隐士原型__proto__指向显示原型
    // console.log(o3.__proto__ === M.prototype); //true

    // 三、instanceof原理

    // 四、new运算符的原理

    var new2 = function (func) {
      // 创建一个空对象，并关联构造函数的原型
      var o = Object.create(func.prototype);
      // 执行构造函数，改变上下文
      var k = func.call(o);
      // 判断构造函数运行结果是不是对象
      if (typeof k === 'object') {
        return k;
      } else {
        return o;
      }
    }
  </script>
</body>

</html>